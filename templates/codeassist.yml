# CodeAssist User Configuration
# Location: ~/.claude/codeassist.yml
#
# This file contains user-level settings that apply across all projects.
# Project-specific settings go in .claude/autonomous.yml

# ═══════════════════════════════════════════════════════════════════════
# LLM PROVIDERS
# ═══════════════════════════════════════════════════════════════════════

providers:
  # Default provider when not specified in project config
  default: claude  # claude | ollama

  # Claude (Anthropic API)
  claude:
    # API key - recommended to use environment variable instead
    # api_key: ${ANTHROPIC_API_KEY}
    model: claude-sonnet-4-20250514

  # Ollama (local/self-hosted)
  # Requires Ollama v0.14.0+ with Anthropic API compatibility
  ollama:
    base_url: http://localhost:11434
    model: qwen3-coder
    # For remote Ollama server (e.g., on Tailscale network):
    # base_url: http://ollama.your-server.ts.net:11434

# ═══════════════════════════════════════════════════════════════════════
# GITHUB / GITLAB
# ═══════════════════════════════════════════════════════════════════════

github:
  # Uses gh CLI authentication by default
  # token: ${GITHUB_TOKEN}  # Optional override

gitlab:
  # url: https://gitlab.com
  # token: ${GITLAB_TOKEN}

# ═══════════════════════════════════════════════════════════════════════
# DEFAULTS
# ═══════════════════════════════════════════════════════════════════════

defaults:
  # Default target score for autonomous runs
  target_score: 95

  # Default preset
  preset: default  # default | prototype | production | ollama_hybrid | ollama_only

  # Iteration settings
  max_iterations: 15
  iteration_delay: 5  # seconds

# ═══════════════════════════════════════════════════════════════════════
# SAFETY
# ═══════════════════════════════════════════════════════════════════════

safety:
  # Rate limiting
  max_api_calls_per_hour: 100

  # Circuit breaker
  circuit_breaker:
    failure_threshold: 5
    reset_timeout: 300

# ═══════════════════════════════════════════════════════════════════════
# LOGGING
# ═══════════════════════════════════════════════════════════════════════

logging:
  level: info  # debug | info | warn | error
  directory: ~/.claude/logs
  max_files: 10
  max_size_mb: 10
