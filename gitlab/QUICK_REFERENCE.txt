â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           GitLab Multi-Runner Quick Reference Card                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ INSTALLATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. chmod +x /tmp/setup-gitlab-runners.sh
2. sudo /tmp/setup-gitlab-runners.sh
3. Get tokens: https://gitlab.liauw-media.de/admin/runners
4. sudo /opt/register-gitlab-runners.sh

ğŸ® MANAGEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•
Status:    sudo /opt/manage-gitlab-runners.sh status
Start:     sudo /opt/manage-gitlab-runners.sh start
Stop:      sudo /opt/manage-gitlab-runners.sh stop
Restart:   sudo /opt/manage-gitlab-runners.sh restart
Logs:      sudo /opt/manage-gitlab-runners.sh logs <type>

ğŸ“Š RUNNERS
â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Runner    â”‚         Tags            â”‚       Default Image        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Runner-PHP  â”‚ php,laravel,composer    â”‚ php:8.2                    â”‚
â”‚ Runner-Node â”‚ node,typescript,nextjs  â”‚ node:20                    â”‚
â”‚ Runner-Py   â”‚ python,pip              â”‚ python:3.11                â”‚
â”‚ Runner-Gen  â”‚ general,docker,shell    â”‚ alpine:latest              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ .GITLAB-CI.YML USAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
build:php:
  tags:
    - php
  script:
    - composer install

build:node:
  tags:
    - node
  script:
    - npm install

test:python:
  tags:
    - python
  script:
    - pytest

ğŸ”§ SYSTEMD COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl status gitlab-runner-php
sudo systemctl restart gitlab-runner-node
sudo journalctl -u gitlab-runner-python -f

ğŸ“‚ LOCATIONS
â•â•â•â•â•â•â•â•â•â•â•â•
Configs:  /opt/gitlab-runner-{type}/config/config.toml
Services: /etc/systemd/system/gitlab-runner-{type}.service
Scripts:  /opt/register-gitlab-runners.sh
          /opt/manage-gitlab-runners.sh

ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Verify:    sudo gitlab-runner verify --config /opt/gitlab-runner-php/config/config.toml
Cleanup:   docker system prune -a
Logs:      sudo journalctl -u gitlab-runner-php -n 100

ğŸŒ WEB INTERFACE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Admin:     https://gitlab.liauw-media.de/admin/runners
Project:   Project â†’ Settings â†’ CI/CD â†’ Runners

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Tip: Use same registration token for all 4 runners if you want   â•‘
â•‘       them available to all your projects!                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
